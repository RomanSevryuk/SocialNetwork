"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[996],{8996:function(s,t,e){e.r(t),e.d(t,{default:function(){return O}});var r=e(8683),i=e(5671),n=e(3144),o=e(136),a=e(5716),u=e(2791),l="ProfileInfo_content__l104L",c="ProfileInfo_avatar__wa0Yd",p="ProfileInfo_descriptionBlock__P+olv",d=e(9040),f=e(9389),h=e(885),v=e(184),m=function(s){var t=s.statusProp,e=s.updateUserStatusTC,r=(0,u.useState)(!1),i=(0,h.Z)(r,2),n=i[0],o=i[1],a=(0,u.useState)(t),l=(0,h.Z)(a,2),c=l[0],p=l[1];(0,u.useEffect)((function(){p(t)}),[t]);return(0,v.jsx)(v.Fragment,{children:n?(0,v.jsx)("div",{children:(0,v.jsx)("input",{value:c,onChange:function(s){return p(s.currentTarget.value)},onBlur:function(){o(!1),e(c)},autoFocus:!0})}):(0,v.jsx)("div",{children:(0,v.jsx)("span",{onDoubleClick:function(){return o(!0)},children:t||"----------"})})})},j=function(s){var t=s.profile,e=s.status,r=s.updateUserStatusTC,i=s.isOwner,n=s.savePhoto;if(!t)return(0,v.jsx)(d.p,{});return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:l,children:(0,v.jsx)("img",{src:"https://i.pinimg.com/originals/30/80/1c/30801c76ad257c29de8d2f28beabab38.jpg"})}),(0,v.jsxs)("div",{className:p,children:[(0,v.jsx)("img",{className:c,src:(null===t||void 0===t?void 0:t.photos.large)||f}),i&&(0,v.jsx)("input",{type:"file",onChange:function(s){s.currentTarget.files&&n(s.currentTarget.files[0])}}),(0,v.jsx)(m,{statusProp:e,updateUserStatusTC:r})]})]})},x="MyPosts_postsBlock__yQF3l",g="MyPosts_posts__CHs+4",P="Post_item__i4ILF",C=function(s){return(0,v.jsx)("div",{className:"content",children:(0,v.jsxs)("div",{className:P,children:[(0,v.jsx)("img",{src:"https://images.ctfassets.net/hrltx12pl8hq/qGOnNvgfJIe2MytFdIcTQ/429dd7e2cb176f93bf9b21a8f89edc77/Images.jpg"}),s.message,(0,v.jsx)("div",{children:(0,v.jsxs)("span",{children:["like ",s.likeCounts]})})]})})},_=e(6139),T=e(704),S=e(3079),k=e(9245),w=(0,S.D)(10),y=(0,T.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,v.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,v.jsx)("div",{children:(0,v.jsx)(_.Z,{name:"newPostText",placeholder:"Enter your message for post",component:k.gx,validate:[S.l,w]})}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{children:"Add"})})]})})),I=u.memo((function(s){var t=s.addPost,e=s.profilePage.posts.map((function(s){return(0,v.jsx)(C,{message:s.message,likeCounts:s.likeCounts},s.id)}));return(0,v.jsxs)("div",{className:x,children:[(0,v.jsx)("h3",{children:"My posts"}),(0,v.jsx)(y,{onSubmit:function(s){t(s.newPostText)}}),(0,v.jsx)("div",{className:g,children:e})]})})),U=e(4294),b=e(8687),Z=(0,b.$j)((function(s){return{profilePage:s.profilePage}}),(function(s){return{addPost:function(t){return s((0,U.q2)(t))}}}))(I),D=function(s){var t=s.profile,e=s.status,r=s.updateUserStatusTC,i=s.isOwner,n=s.savePhoto;return(0,v.jsxs)("div",{children:[(0,v.jsx)(j,{profile:t,status:e,updateUserStatusTC:r,isOwner:i,savePhoto:n}),(0,v.jsx)(Z,{})]})},N=e(9271),A=e(2932),F=e(7781),M=function(s){(0,o.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,i.Z)(this,e),t.apply(this,arguments)}return(0,n.Z)(e,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userID;s||this.props.authorizedUserId&&(s=this.props.authorizedUserId.toString()),this.props.getProfileTC(s),this.props.getUserStatusTC(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,t){var e,r;this.props.match.params.userID!==s.match.params.userID&&this.refreshProfile(),(null===(e=this.props.profile)||void 0===e?void 0:e.photos.large)!==(null===(r=s.profile)||void 0===r?void 0:r.photos.large)&&this.refreshProfile()}},{key:"render",value:function(){return(0,v.jsx)(D,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatusTC:this.props.updateUserStatusTC,isOwner:!this.props.match.params.userID,savePhoto:this.props.savePhoto}))}}]),e}(u.Component),O=(0,F.qC)((0,b.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth}}),{getProfileTC:U.GA,getUserStatusTC:U.Qw,updateUserStatusTC:U.wM,savePhoto:U.Ju}),N.EN,A.D)(M)},2932:function(s,t,e){e.d(t,{D:function(){return c}});var r=e(8683),i=e(5987),n=(e(2791),e(9271)),o=e(8687),a=e(184),u=["isAuth"],l=function(s){return{isAuth:s.auth.isAuth}};function c(s){return(0,o.$j)(l)((function(t){var e=t.isAuth,o=(0,i.Z)(t,u);return e?(0,a.jsx)(s,(0,r.Z)({},o)):(0,a.jsx)(n.l_,{to:"Login"})}))}}}]);
//# sourceMappingURL=996.4490dbcb.chunk.js.map