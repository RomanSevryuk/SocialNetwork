"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[143],{3143:function(s,e,t){t.r(e),t.d(e,{default:function(){return J}});var r=t(8683),i=t(5671),n=t(3144),o=t(136),a=t(5716),l=t(2791),u=t(885),c="ProfileInfo_content__l104L",d="ProfileInfo_avatar__wa0Yd",h="ProfileInfo_descriptionBlock__P+olv",f=t(9040),p=t(9389),j=t(184),x=function(s){var e=s.statusProp,t=s.updateUserStatusTC,r=(0,l.useState)(!1),i=(0,u.Z)(r,2),n=i[0],o=i[1],a=(0,l.useState)(e),c=(0,u.Z)(a,2),d=c[0],h=c[1];(0,l.useEffect)((function(){h(e)}),[e]);return(0,j.jsx)(j.Fragment,{children:n?(0,j.jsx)("div",{children:(0,j.jsx)("input",{value:d,onChange:function(s){return h(s.currentTarget.value)},onBlur:function(){o(!1),t(d)},autoFocus:!0})}):(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Status:"})," ",(0,j.jsx)("span",{onDoubleClick:function(){return o(!0)},children:e||"----------"})]})})},v=t(9245),m=t(704),g=t(4694),b=(0,m.Z)({form:"editProfile"})((function(s){var e=s.handleSubmit,t=s.profile,r=s.error;return(0,j.jsxs)("form",{onSubmit:e,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{onClick:function(){},children:"save"}),r&&(0,j.jsxs)("div",{className:g.Z.formSummaryError,children:[" ",r]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Full name:"})," ",(0,v.Gr)("Full name",v.II,"fullName",[])]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a job:"}),(0,v.Gr)("Looking for a job:",v.II,"lookingForAJob",[],"checkbox")]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"My professionals skills:"}),(0,v.Gr)("My professionals skills:",v.gx,"lookingForAJobDescription",[])]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me:"}),(0,v.Gr)("About me:",v.gx,"aboutMe",[])]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(s){return(0,j.jsxs)("div",{style:{paddingLeft:"10px"},children:[(0,j.jsxs)("b",{children:[s,": "]})," ",(0,v.Gr)(s,v.II,"contacts."+s,[])]},s)}))]})]})})),P=function(s){var e=s.profile,t=s.status,r=s.updateUserStatusTC,i=s.isOwner,n=s.savePhoto,o=s.saveProfile,a=(0,l.useState)(!1),v=(0,u.Z)(a,2),m=v[0],g=v[1];if(!e)return(0,j.jsx)(f.p,{});return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:c,children:(0,j.jsx)("img",{src:"https://www.nicepng.com/png/full/5-53402_social-media-icons-blue-social-media-icons-png.png"})}),(0,j.jsxs)("div",{className:h,children:[(0,j.jsx)("img",{className:d,src:(null===e||void 0===e?void 0:e.photos.large)||p}),(0,j.jsx)("div",{children:i&&(0,j.jsx)("input",{type:"file",onChange:function(s){s.currentTarget.files&&n(s.currentTarget.files[0])}})}),(0,j.jsx)("br",{}),(0,j.jsx)(x,{statusProp:t,updateUserStatusTC:r}),m?(0,j.jsx)(b,{initialValues:e,profile:e,onSubmit:function(s){o(s).then((function(){g(!1)}))}}):(0,j.jsx)(k,{profile:e,isOwner:i,goToEditMode:function(){return g(!0)}})]})]})},k=function(s){var e=s.profile,t=s.isOwner,r=s.goToEditMode;return(0,j.jsx)(j.Fragment,{children:e&&(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Full name:"})," ",e.fullName]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"yes":"no"]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"My professionals skills:"})," ",e.lookingForAJobDescription]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.contacts).map((function(s){return(0,j.jsx)(C,{contactTitle:s,contactValue:e.contacts[s]},s)})),(0,j.jsx)("br",{})]}),t&&(0,j.jsx)("div",{children:(0,j.jsx)("button",{onClick:r,children:"Edit profile"})})]})})},C=function(s){var e=s.contactTitle,t=s.contactValue;return(0,j.jsxs)("div",{style:{paddingLeft:"10px"},children:[(0,j.jsxs)("b",{children:[e,":"]})," ",t]})},y="MyPosts_postsBlock__yQF3l",S="MyPosts_posts__CHs+4",T="Post_item__i4ILF",_=function(s){return(0,j.jsx)("div",{className:"content",children:(0,j.jsxs)("div",{className:T,children:[(0,j.jsx)("img",{src:"https://images.ctfassets.net/hrltx12pl8hq/qGOnNvgfJIe2MytFdIcTQ/429dd7e2cb176f93bf9b21a8f89edc77/Images.jpg"}),s.message,(0,j.jsx)("div",{children:(0,j.jsxs)("span",{children:["like ",s.likeCounts]})})]})})},I=t(6139),w=t(3079),A=(0,w.D)(10),Z=(0,m.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,j.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,j.jsx)("div",{children:(0,j.jsx)(I.Z,{name:"newPostText",placeholder:"Enter your message for post",component:v.gx,validate:[w.l,A]})}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{children:"Add"})})]})})),F=l.memo((function(s){var e=s.addPost,t=s.profilePage.posts.map((function(s){return(0,j.jsx)(_,{message:s.message,likeCounts:s.likeCounts},s.id)}));return(0,j.jsxs)("div",{className:y,children:[(0,j.jsx)("h3",{children:"My posts"}),(0,j.jsx)(Z,{onSubmit:function(s){e(s.newPostText)}}),(0,j.jsx)("div",{className:S,children:t})]})})),U=t(4294),M=t(8687),N=(0,M.$j)((function(s){return{profilePage:s.profilePage}}),(function(s){return{addPost:function(e){return s((0,U.q2)(e))}}}))(F),D=function(s){var e=s.profile,t=s.status,r=s.updateUserStatusTC,i=s.isOwner,n=s.savePhoto,o=s.saveProfile;return(0,j.jsxs)("div",{children:[(0,j.jsx)(P,{profile:e,status:t,updateUserStatusTC:r,isOwner:i,savePhoto:n,saveProfile:o}),(0,j.jsx)(N,{})]})},O=t(9271),L=t(2932),E=t(7781),G=function(s){(0,o.Z)(t,s);var e=(0,a.Z)(t);function t(){return(0,i.Z)(this,t),e.apply(this,arguments)}return(0,n.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userID;s||this.props.authorizedUserId&&(s=this.props.authorizedUserId.toString()),this.props.getProfileTC(s),this.props.getUserStatusTC(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e){var t,r;this.props.match.params.userID!==s.match.params.userID&&this.refreshProfile(),(null===(t=this.props.profile)||void 0===t?void 0:t.photos.large)!==(null===(r=s.profile)||void 0===r?void 0:r.photos.large)&&this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)(D,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatusTC:this.props.updateUserStatusTC,isOwner:!this.props.match.params.userID,savePhoto:this.props.savePhoto}))}}]),t}(l.Component),J=(0,E.qC)((0,M.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth}}),{getProfileTC:U.GA,getUserStatusTC:U.Qw,updateUserStatusTC:U.wM,savePhoto:U.Ju,saveProfile:U.Ii}),O.EN,L.D)(G)},2932:function(s,e,t){t.d(e,{D:function(){return c}});var r=t(8683),i=t(5987),n=(t(2791),t(9271)),o=t(8687),a=t(184),l=["isAuth"],u=function(s){return{isAuth:s.auth.isAuth}};function c(s){return(0,o.$j)(u)((function(e){var t=e.isAuth,o=(0,i.Z)(e,l);return t?(0,a.jsx)(s,(0,r.Z)({},o)):(0,a.jsx)(n.l_,{to:"Login"})}))}}}]);
//# sourceMappingURL=143.2f42c044.chunk.js.map